<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
 	<title>Music Finder</title>
	<!-- Import jQuery -->
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="css/album-preview.css"/>
  
 
 <script>
	window.onload = init;
	var searchedArtist;
	
	function init(){
		document.querySelector("#search").onclick = getData;
	}
	
	// MY FUNCTIONS
	function getData(){
		//clean the search term
		cleanSearchTerm();
	
		// call the spotify and echonest web services, and download the files for each
		spotifySearch(searchedArtist);
		echonestSearch(searchedArtist, 5);
		
		$("#content").fadeOut(250);
		$("#news").fadeOut(250);
		
	}
	
	function cleanSearchTerm(){
		// get value of form field
		searchedArtist = document.querySelector("#searchterm").value;
		
		// get rid of any leading and trailing spaces
		searchedArtist = searchedArtist.trim();
		
		// if there's no band to search then bail out of the function (return does this)
		if(searchedArtist.length < 1) return;
		
		document.querySelector("#content").innerHTML = "<b>Searching for " + searchedArtist + "</b>";
		document.querySelector("#news").innerHTML = "<b>Searching for " + searchedArtist + "</b>";
		
		// replace spaces the user typed in the middle of the term with %20
		// %20 is the hexadecimal value for a space
		searchedArtist = encodeURI(searchedArtist);
	}
  </script>
  
  
</head>
<body>
	<h1>Music Finder</h1>


	<button type="button" id="search">Search<br /></button>
	<input id="searchterm" type="text" size="20" maxlength="20" value="Jack Johnson" /> 

	<h2>Results</h2>
	<div id="content">
		<p>No data yet!</p>
	</div>

	<h2>News</h2>
	<div id="news">
		<p>No data yet!</p>
	</div>

	<script src="js/SpotifyManager.js"></script>
	<script src="js/EchonestManager.js"></script>  
</body>
</html>
